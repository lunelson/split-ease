{"version":3,"file":"split-ease.mjs","sources":["../src/split-ease.js"],"sourcesContent":["//  _____       _ _ _   _____\n// /  ___|     | (_) | |  ___|\n// \\ `--. _ __ | |_| |_| |__  __ _ ___  ___\n//  `--. \\ '_ \\| | | __|  __|/ _` / __|/ _ \\\n// /\\__/ / |_) | | | |_| |__| (_| \\__ \\  __/\n// \\____/| .__/|_|_|\\__\\____/\\__,_|___/\\___|\n//       | |\n//       |_|\n\nfunction linear(t, b, c, d) {\n  return c * t / d + b;\n}\n\nfunction cosine(t, b, c, d) {\n  return c / -2 * (Math.cos(Math.PI * t / d) - 1) + b;\n}\n\nfunction power(t, b, c, d, p) {\n  return (t /= d / 2) < 1 ?\n    c / 2 * Math.pow(t, p) + b :\n    c / -2 * (Math.pow(2 - t, p) - 2) + b;\n}\n\nfunction isPojo(value) {\n  if (typeof value !== 'object') { return false; }\n  if (Object.prototype.toString.call(value) !== '[object Object]') { return false; }\n  switch (Object.getPrototypeOf(value)) {\n    case Object.prototype: { return true; }\n    case null: { return true; }\n    default: { return false; }\n  }\n}\n\nexport default function SplitEase(et1, et2, opts) {\n\n  if (typeof et2 == 'object') { opts = et2; et2 = undefined; }\n  if (et1 !== undefined && et1 < 0) throw new RangeError(`SplitEase: ease-in ratio must be > 0; received ${et1}`);\n  if (et2 !== undefined && et2 < 0) throw new RangeError(`SplitEase: ease-out ratio must be > 0; received ${et2}`);\n  if (et1 !== undefined && typeof et1 !== 'number') throw new TypeError(`SplitEase: ease-in ratio must be a number; received ${et1}`);\n  if (et2 !== undefined && typeof et2 !== 'number') throw new TypeError(`SplitEase: ease-out ratio must be a number; received ${et2}`);\n  if (opts !== undefined && !isPojo(opts)) throw new TypeError(`SplitEase: options must be a plain object; received ${opts}`);\n\n  et1 = (et1 === undefined) ? 0.5 : et1;\n  et2 = (et2 === undefined) ? Math.max(1 - et1, 0) : et2;\n  opts = (opts === undefined) ? { pow: 2 } : opts;\n\n  const eSum = et1 + et2;\n\n  if (et1 > 1) console.warn(`SplitEase: ease-in ratio is > 1 [${et1}]; both ratios will be scaled down`);\n  else if (et2 > 1) console.warn(`SplitEase: ease-out ratio is > 1 [${et2}]; both ratios will be scaled down`);\n  else if (eSum > 1) console.warn(`SplitEase: total easing ratio is > 1 [${eSum}]; both ratios will be scaled down`);\n\n  const eScale = eSum > 1 ? 1 / eSum : 1;\n  et1 *= eScale;\n  et2 *= eScale;\n\n  const { pow, sin } = opts;\n  if (pow && pow < 1) throw new RangeError(`SplitEase: pow parameter must be >= 1; received ${pow}`);\n  if (pow && pow > 6) console.warn(`SplitEase: pow parameter is > 6; curve is extreme beyond this point!`)\n  const curve = sin ? cosine : power;\n  const p = sin ? Math.PI / 2 : pow;\n  const ev1 = et1 > 0 ? 1 / (p / et1 - (p - 1) * (et2 / et1 + 1)) : 0;\n  const ev2 = et2 > 0 ? 1 / (p / et2 - (p - 1) * (et1 / et2 + 1)) : 0;\n\n  return function(time) {\n    return time <= 0 ? 0 :\n      time > 1 ? 1 :\n        time <= et1 ?\n          curve(time, 0, ev1 * 2, et1 * 2, p) :\n          time > (1 - et2) ?\n            curve(time - (1 - et2 * 2), 1 - ev2 * 2, ev2 * 2, et2 * 2, p) :\n            linear(time - et1, ev1, 1 - (ev1 + ev2), 1 - (et1 + et2)) ;\n\n  };\n}\n"],"names":["cosine","t","b","c","d","Math","cos","PI","power","p","pow","et1","et2","opts","undefined","RangeError","TypeError","value","Object","prototype","toString","call","getPrototypeOf","isPojo","max","eSum","console","warn","eScale","curve","sin","ev1","ev2","time"],"mappings":"AAaA,SAASA,EAAOC,EAAGC,EAAGC,EAAGC,UAChBD,GAAK,GAAKE,KAAKC,IAAID,KAAKE,GAAKN,EAAIG,GAAK,GAAKF,EAGpD,SAASM,EAAMP,EAAGC,EAAGC,EAAGC,EAAGK,UACjBR,GAAKG,EAAI,GAAK,EACpBD,EAAI,EAAIE,KAAKK,IAAIT,EAAGQ,GAAKP,EACzBC,GAAK,GAAKE,KAAKK,IAAI,EAAIT,EAAGQ,GAAK,GAAKP,iBAaxC,SAAkCS,EAAKC,EAAKC,MAExB,iBAAPD,IAAmBC,EAAOD,EAAKA,OAAME,QACpCA,IAARH,GAAqBA,EAAM,EAAG,MAAM,IAAII,6DAA6DJ,WAC7FG,IAARF,GAAqBA,EAAM,EAAG,MAAM,IAAIG,8DAA8DH,WAC9FE,IAARH,GAAoC,iBAARA,EAAkB,MAAM,IAAIK,iEAAiEL,WACjHG,IAARF,GAAoC,iBAARA,EAAkB,MAAM,IAAII,kEAAkEJ,WACjHE,IAATD,IAjBN,SAAgBI,MACO,iBAAVA,SAA6B,KACM,oBAA1CC,OAAOC,UAAUC,SAASC,KAAKJ,UAAuC,SAClEC,OAAOI,eAAeL,SACvBC,OAAOC,eACP,YAAe,iBACF,GAWOI,CAAOV,GAAO,MAAM,IAAIG,iEAAiEH,GAEpHF,OAAeG,IAARH,EAAqB,GAAMA,EAClCC,OAAeE,IAARF,EAAqBP,KAAKmB,IAAI,EAAIb,EAAK,GAAKC,EACnDC,OAAiBC,IAATD,EAAsB,CAAEH,IAAK,GAAMG,MAErCY,EAAOd,EAAMC,EAEfD,EAAM,EAAGe,QAAQC,yCAAyChB,wCACrDC,EAAM,EAAGc,QAAQC,0CAA0Cf,wCAC3Da,EAAO,GAAGC,QAAQC,8CAA8CF,4CAEnEG,EAASH,EAAO,EAAI,EAAIA,EAAO,EACrCd,GAAOiB,EACPhB,GAAOgB,yBAGHlB,GAAOA,EAAM,EAAG,MAAM,IAAIK,8DAA8DL,GACxFA,GAAOA,EAAM,GAAGgB,QAAQC,KAAM,4EAC5BE,EAAQC,EAAM9B,EAASQ,EACvBC,EAAIqB,EAAMzB,KAAKE,GAAK,EAAIG,EACxBqB,EAAMpB,EAAM,EAAI,GAAKF,EAAIE,GAAOF,EAAI,IAAMG,EAAMD,EAAM,IAAM,EAC5DqB,EAAMpB,EAAM,EAAI,GAAKH,EAAIG,GAAOH,EAAI,IAAME,EAAMC,EAAM,IAAM,SAE3D,SAASqB,UACPA,GAAQ,EAAI,EACjBA,EAAO,EAAI,EACTA,GAAQtB,EACNkB,EAAMI,EAAM,EAAS,EAANF,EAAe,EAANpB,EAASF,GACjCwB,EAAQ,EAAIrB,EACViB,EAAMI,GAAQ,EAAU,EAANrB,GAAU,EAAU,EAANoB,EAAe,EAANA,EAAe,EAANpB,EAASH,IACnC,GAAKsB,EAAMC,KAA5BC,EAAOtB,IAA2B,GAAKA,EAAMC,IAAjCmB"}